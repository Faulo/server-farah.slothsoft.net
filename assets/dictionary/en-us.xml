<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us">
	<p key="home/title">Fragments and Resources and Hypertext: A Content Management System</p>
	
	<p key="home/header">
		<h1>
			Fragments and Resources and Hypertext
			<br/>
			<small>A Content Management System</small>
		</h1>
	</p>
	
	<p key="home/main">
		<p>
			Welcome! This is the homepage of <i>Farah</i>, a PHP-based CMS.
		</p>
		<p>
			This website is going to have all the info you need to use it, like an API documentation and code examples probably.
		</p>
		<h3><abbr title="a.k.a. Fictitiously Asked Questions">FAQ</abbr></h3>
		<dl>
			<dt>What is <i>Farah</i>?</dt>
			<dd>
				<p>
					<i>Farah</i> stands for "Fragments and Resources and Hypertext".
				</p>
				<p>
					It's used invariably to mean one of the following:
				</p>
				<ul>
					<li>This CMS, duh.</li>
					<li>Its composer package, <a href="https://packagist.org/packages/slothsoft/farah" rel="external">slothsoft/farah</a>.</li>
					<li>Its github repository, <a href="https://github.com/Faulo/slothsoft-farah" rel="external">https://github.com/Faulo/slothsoft-farah</a>.</li>
					<li>Its PHP streaming protocol, <code>farah://</code>.</li>
					<li>Its root module, <code>farah://slothsoft@farah</code>.</li>
				</ul>
			</dd>
			<dt>Okay, but what does it do?</dt>
			<dd>
				<p>It serves content! Like websites.</p>
				<p>Basically, you define a sitemap and link each page to one of your assets, and with those definitions <i>Farah</i> resolves requests to your server by handing out the assets.</p>
			</dd>
			<dt>So... how do I define a sitemap?</dt>
			<dd>
				<p>You create an XML according to the <a href="http://schema.slothsoft.net/farah/sitemap/"><i>Farah</i> sitemap spec</a>.</p>
			</dd>
			<dt>And what about assets?</dt>
			<dd>
				<p>An "asset" in the <i>Farah</i> context is an identifiable resource of your domain. It can be a file, the result of an XSL transformation, or something generated by your PHP code.</p>
				<p>Assets are defined in a <a href="http://schema.slothsoft.net/farah/module/">module manifest XML</a>.</p>
			</dd>
			<dt>Okay, I've defined some assets. How do I reference them?</dt>
			<dd>
				<p>Every asset gets assigned a Farah URL based on the module it's defined in, and its position in the manifest file.</p>
				<p>Farah URLs can be used just like file paths (e.g., <code>fopen</code>, <code>DOMDocument::load</code>, <code class="element">xsl:import</code>, ...).</p>
			</dd>
			<dt>What's the syntax of a Farah URL?</dt>
			<dd>
				<p>A basic <a href="https://tools.ietf.org/html/rfc3986" rel="external">URI</a>, with some additional rules:</p>
				<ul>
					<li>The scheme must be "farah".</li>
					<li>The user is required, and identifies the vendor.</li>
					<li>The password is forbidden.</li>
					<li>The host is required, and identifies the module.</li>
					<li>The port is forbidden.</li>
					<li>The path is optional, and identifies the asset inside the module manifest.</li>
					<li>Arguments are optional, and identify input parameters for the asset.</li>
					<li>The fragment is optional, and identifies specific representations of the asset.</li>
				</ul>
				<p>
					<pre class="bnf">FarahUrl = "farah://" vendor "@" module path? ("?" arguments)? ("#" type)?

vendor = \w+
module = \w+
path = (/\w)+
arguments = .+
type = \w+</pre>
				</p>
				<p>
					For example, <code class="url">farah://slothsoft@farah/request#xml</code>
					identifies the "xml" representation of the asset with the name
					"request" in the module "farah" by vendor "slothsoft".
				</p>				
			</dd>
		</dl>
	</p>
	
	<p key="home/footer">
		Â© 2017, 2018 
		<a href="mailto:info.slothsoft@gmail.com">Slothsoft</a>
	</p>
</html>